!function(e,r){function n(e){u[e.name]=e}function t(e){return e&&u.hasOwnProperty(e)}function a(e){for(var r in u)if(t(r)){var n=","+u[r].ext.join(",")+",";if(n.indexOf(","+e+",")>-1)return r}}function c(e,n){var t=r.ActiveXObject?new r.ActiveXObject("Microsoft.XMLHTTP"):new r.XMLHttpRequest;return t.open("GET",e,!0),t.onreadystatechange=function(){if(4===t.readyState){if(t.status>399&&t.status<600)throw new Error("Could not load: "+e+", status = "+t.status);n(t.responseText)}},t.send(null)}function o(e){e&&/\S/.test(e)&&(r.execScript||function(e){(r.eval||eval).call(r,e)})(e)}function s(e){return e.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")}function i(e){return e.replace(/\?.*$/,"")}var u={},l={};n({name:"text",ext:[".tpl",".html"],exec:function(e,r){o('define("'+e+'#", [], "'+s(r)+'")')}}),n({name:"json",ext:[".json"],exec:function(e,r){o('define("'+e+'#", [], '+r+")")}}),n({name:"handlebars",ext:[".handlebars"],exec:function(e,r){var n=['define("'+e+'#", ["handlebars"], function(require, exports, module) {','  var source = "'+s(r)+'"','  var Handlebars = require("handlebars")',"  module.exports = function(data, options) {","    var helpers = (options || {}).helpers || {}","    for (var key in helpers) {","      Handlebars.registerHelper(key, helpers[key])","    }","    return Handlebars.compile(source)(data)","  }","})"].join("\n");o(n)}}),e.on("resolve",function(r){var n=r.id;if(!n)return"";var c,o;(o=n.match(/^(\w+)!(.+)$/))&&t(o[1])&&(c=o[1],n=o[2]);var s=e.resolve(n,r.refUri),i=s.replace(/\.(?:js|css)(\?|$)/,"$1");!c&&(o=i.match(/[^?]+(\.\w+)(?:\?|$)/))&&(c=a(o[1])),c&&(s=s.replace(/\.js(?=$|\?)/,""),l[s]=c),r.uri=s}),e.on("request",function(e){var r=l[e.uri];r&&(c(e.requestUri,function(n){u[r].exec(e.uri,n),e.callback()}),e.requested=!0)}),"object"==typeof process&&(c=function(e,r){r(require("fs").readFileSync(i(e),"utf8"))}),define("seajs-text",[],{})}(seajs,this);